<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="title">Checkout - Order Payment</title>
    <!-- Link extracted CSS -->
    <link rel="stylesheet" href="css/style.css">
</head>

<body>

    <div class="checkout-container">

        <!-- Loading State -->
        <div id="loading-view">
            <div class="loader"></div>
            <p data-i18n="loading">Fetching order info...</p>
        </div>

        <!-- Error State -->
        <div id="error-view">
            <svg style="width: 48px; height: 48px; margin: 0 auto 16px; display: block;" fill="none"
                stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
            <h3 id="error-title" style="margin:0 0 8px 0;" data-i18n="fetch_fail_title">Failed to fetch order</h3>
            <p id="error-message" style="margin:0; font-size: 14px; color: var(--text-muted);"></p>
        </div>

        <!-- Order Content State -->
        <div id="content-view">
            <div class="header">
                <span class="status-badge" id="order-status" data-i18n="status_wait">Awaiting Payment</span>

                <div class="amount-display">
                    <span id="order-currency">Â¥</span><span id="order-amount">0.00</span>
                    <button class="copy-btn" style="padding: 4px 8px; font-size: 13px; font-weight: 500;"
                        onclick="copyText('order-amount')" data-i18n="btn_copy">Copy</button>
                </div>

                <div id="countdown-box" class="countdown-box" style="display:none;">
                    <div class="circular-timer">
                        <svg class="circular-svg" viewBox="0 0 100 100">
                            <circle class="circular-bg" cx="50" cy="50" r="45"></circle>
                            <circle class="circular-progress" cx="50" cy="50" r="45" id="timer-progress"></circle>
                        </svg>
                        <div class="timer-text" id="countdown-time">15:00</div>
                    </div>
                    <div class="timer-label" data-i18n="time_remaining">Time left to pay</div>
                </div>

                <div style="color: var(--text-muted); font-size: 14px; margin-top: 16px;" id="order-title"
                    data-i18n="receive_account_info">Payment Details</div>
            </div>

            <div class="order-info">
                <div class="info-row">
                    <span class="info-label" data-i18n="order_no">Order No</span>
                    <div class="info-value">
                        <span id="order-trade-no">--</span>
                        <button class="copy-btn" onclick="copyText('order-trade-no')" data-i18n="btn_copy">Copy</button>
                    </div>
                </div>
                <!-- Bank Info container (shown dynamically) -->
                <div id="bank-info-container" style="display: none;">
                    <div class="info-row">
                        <span class="info-label" data-i18n="receive_bank">Bank Name</span>
                        <div class="info-value" id="order-bank">--</div>
                    </div>
                    <div class="info-row">
                        <span class="info-label" data-i18n="receive_name">Account Name</span>
                        <div class="info-value">
                            <span id="order-account-name">--</span>
                            <button class="copy-btn" onclick="copyText('order-account-name')"
                                data-i18n="btn_copy">Copy</button>
                        </div>
                    </div>
                    <div class="info-row">
                        <span class="info-label" data-i18n="receive_account">Bank Account</span>
                        <div class="info-value">
                            <span id="order-account">--</span>
                            <button class="copy-btn" onclick="copyText('order-account')"
                                data-i18n="btn_copy">Copy</button>
                        </div>
                    </div>
                    <div class="info-row" id="remark-row" style="display: none;">
                        <span class="info-label" data-i18n="order_remark">Remark</span>
                        <div class="info-value">
                            <span id="order-remark" style="color: var(--warning); font-weight: bold;">--</span>
                            <button class="copy-btn" onclick="copyText('order-remark')"
                                data-i18n="btn_copy">Copy</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="qrcode-container" id="qrcode-container">
                <div class="qrcode-placeholder">
                    <span data-i18n="qr_placeholder">QR Code Area</span>
                </div>
                <p style="font-size: 13px; color: var(--text-muted); margin: 0;" data-i18n="qr_subtext">Please
                    screenshot or scan the QR code to pay</p>
            </div>

            <div class="status-message" id="status-message" data-i18n="warning_msg">
                Please complete payment within the time limit. Unpaid orders will automatically close.
            </div>
        </div>

    </div>

    <!-- Scripts -->
    <script src="js/qrcode.min.js"></script>
    <script>
        document.write('<script src="js/i18n.js?v=' + new Date().getTime() + '"><\/script>');
        document.write('<script src="js/app.js?v=' + new Date().getTime() + '"><\/script>');
    </script>
</body>

</html>